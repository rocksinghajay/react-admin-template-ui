'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactState = require('react-state');

var _reactMove = require('react-move');

var _Utils = require('../utils/Utils');

var _Utils2 = _interopRequireDefault(_Utils);

var _Selectors = require('../utils/Selectors');

var _Selectors2 = _interopRequireDefault(_Selectors);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }
//


//

var fontSize = 12;

var Tooltip = function (_PureComponent) {
  _inherits(Tooltip, _PureComponent);

  function Tooltip() {
    _classCallCheck(this, Tooltip);

    return _possibleConstructorReturn(this, (Tooltip.__proto__ || Object.getPrototypeOf(Tooltip)).apply(this, arguments));
  }

  _createClass(Tooltip, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          hovered = _props.hovered,
          primaryAxis = _props.primaryAxis,
          secondaryAxis = _props.secondaryAxis,
          _props$offset = _props.offset,
          left = _props$offset.left,
          top = _props$offset.top,
          gridX = _props.gridX,
          gridY = _props.gridY,
          cursor = _props.cursor,
          position = _props.position,
          align = _props.align,
          children = _props.children;


      if (!primaryAxis || !secondaryAxis || !hovered || !cursor) {
        return null;
      }

      var datums = hovered.datums && hovered.datums.length ? hovered.datums : hovered.series ? hovered.series.data : null;

      // TODO: tooltip origin: hovered or chart or custom. Allows the user to position the tooltip relative to different parts of the chart
      // TODO: tooltip hardcoded offset and/or dynamic offset based on target element

      var focus = datums ? typeof position === 'function' ? position(datums, cursor) : position === 'left' ? _Utils2.default.getCenterPointOfSide('left', datums) : position === 'right' ? _Utils2.default.getCenterPointOfSide('right', datums) : position === 'top' ? _Utils2.default.getCenterPointOfSide('top', datums) : position === 'bottom' ? _Utils2.default.getCenterPointOfSide('bottom', datums) : position === 'center' ? _Utils2.default.getCenterPointOfSide('center', datums) : position === 'cursor' ? cursor : _Utils2.default.getClosestPoint(cursor, datums).focus // : quadTree.find(cursor.x, cursor.y)
      : {
        x: gridX,
        y: gridY
      };

      var x = gridX + focus.x;
      var y = gridY + focus.y;

      var alignX = void 0;
      var alignY = void 0;

      var triangleStyles = {};

      if (align === 'top') {
        alignX = '-50%';
        alignY = '-100%';
        triangleStyles = {
          top: '100%',
          left: '50%',
          transform: 'translate(-50%, 0%)',
          borderLeft: '5px solid transparent',
          borderRight: '5px solid transparent',
          borderTop: '5px solid rgba(38, 38, 38, 0.8)'
        };
      } else if (align === 'bottom') {
        alignX = '-50%';
        alignY = '0%';
        triangleStyles = {
          top: '0%',
          left: '50%',
          transform: 'translate(-50%, -100%)',
          borderLeft: '5px solid transparent',
          borderRight: '5px solid transparent',
          borderBottom: '5px solid rgba(38, 38, 38, 0.8)'
        };
      } else if (align === 'left') {
        alignX = '-100%';
        alignY = '-50%';
        triangleStyles = {
          top: '50%',
          left: '100%',
          transform: 'translate(0%, -50%)',
          borderTop: '5px solid transparent',
          borderBottom: '5px solid transparent',
          borderLeft: '5px solid rgba(38, 38, 38, 0.8)'
        };
      } else if (align === 'right') {
        alignX = '0%';
        alignY = '-50%';
        triangleStyles = {
          top: '50%',
          left: '0%',
          transform: 'translate(-100%, -50%)',
          borderTop: '5px solid transparent',
          borderBottom: '5px solid transparent',
          borderRight: '5px solid rgba(38, 38, 38, 0.8)'
        };
      } else if (align === 'center') {
        // TODO: Automatic Mode
        alignX = '-50%';
        alignY = '-50%';
        triangleStyles = {
          opacity: 0
        };
      }

      var visibility = hovered.active ? 1 : 0;

      return _react2.default.createElement(
        _reactMove.Animate,
        {
          data: {
            x: x,
            y: y,
            alignX: alignX,
            alignY: alignY,
            triangleStyles: triangleStyles,
            visibility: visibility
          },
          duration: 400
        },
        function (_ref) {
          var x = _ref.x,
              y = _ref.y,
              alignX = _ref.alignX,
              alignY = _ref.alignY,
              triangleStyles = _ref.triangleStyles,
              visibility = _ref.visibility;
          return _react2.default.createElement(
            'div',
            {
              className: 'tooltip-wrap',
              style: {
                pointerEvents: 'none',
                position: 'absolute',
                left: left + 'px',
                top: top + 'px',
                opacity: visibility
              }
            },
            _react2.default.createElement(
              'div',
              {
                style: {
                  transform: 'translate3d(' + x + 'px, ' + y + 'px, 0px)'
                }
              },
              _react2.default.createElement(
                'div',
                {
                  style: {
                    transform: 'translate3d(' + alignX + ', ' + alignY + ', 0)',
                    padding: '7px'
                  }
                },
                _react2.default.createElement(
                  'div',
                  {
                    style: {
                      fontSize: fontSize + 'px',
                      padding: '5px',
                      background: 'rgba(38, 38, 38, 0.8)',
                      color: 'white',
                      borderRadius: '3px',
                      position: 'relative'
                    }
                  },
                  children(_extends({}, hovered, {
                    primaryAxis: primaryAxis,
                    secondaryAxis: secondaryAxis
                  })),
                  _react2.default.createElement('div', {
                    style: _extends({
                      position: 'absolute',
                      width: '0',
                      height: '0'
                    }, triangleStyles)
                  })
                )
              )
            )
          );
        }
      );
    }
  }]);

  return Tooltip;
}(_react.PureComponent);

Tooltip.defaultProps = {
  position: 'average',
  align: 'top',
  children: function children(props) {
    var series = props.series,
        datums = props.datums,
        primaryAxis = props.primaryAxis,
        secondaryAxis = props.secondaryAxis;

    return series ? _react2.default.createElement(
      'div',
      null,
      _react2.default.createElement(
        'strong',
        null,
        series.label
      ),
      _react2.default.createElement('br', null)
    ) : datums && datums.length ? _react2.default.createElement(
      'div',
      null,
      _react2.default.createElement(
        'div',
        {
          style: {
            marginBottom: '3px'
          }
        },
        _react2.default.createElement(
          'strong',
          null,
          primaryAxis.format(datums[0].primary)
        )
      ),
      _react2.default.createElement(
        'table',
        null,
        _react2.default.createElement(
          'tbody',
          null,
          (secondaryAxis.stacked ? [].concat(_toConsumableArray(datums)).reverse() : datums).map(function (d, i) {
            return _react2.default.createElement(
              'tr',
              { key: i },
              _react2.default.createElement(
                'td',
                null,
                _react2.default.createElement(
                  'span',
                  { style: { color: d.statusStyles.hovered.fill } },
                  '\u25CF'
                ),
                ' ',
                d.seriesLabel,
                ': \xA0'
              ),
              _react2.default.createElement(
                'td',
                {
                  style: {
                    textAlign: 'right'
                  }
                },
                Math.floor(d.secondary) < d.secondary ? secondaryAxis.format(Math.round(d.secondary * 100) / 100) : secondaryAxis.format(d.secondary)
              )
            );
          })
        )
      )
    ) : null;
  }
};
exports.default = (0, _reactState.Connect)(function () {
  var selectors = {
    primaryAxis: _Selectors2.default.primaryAxis(),
    secondaryAxis: _Selectors2.default.secondaryAxis(),
    gridX: _Selectors2.default.gridX(),
    gridY: _Selectors2.default.gridY(),
    offset: _Selectors2.default.offset()
  };
  return function (state) {
    return {
      primaryAxis: selectors.primaryAxis(state),
      secondaryAxis: selectors.secondaryAxis(state),
      gridX: selectors.gridX(state),
      gridY: selectors.gridY(state),
      hovered: state.hovered,
      cursor: state.cursor,
      offset: selectors.offset(state),
      quadTree: state.quadTree
    };
  };
}, {
  statics: {
    isHTML: true
  }
})(Tooltip);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9jb21wb25lbnRzL1Rvb2x0aXAuanMiXSwibmFtZXMiOlsiZm9udFNpemUiLCJUb29sdGlwIiwicHJvcHMiLCJob3ZlcmVkIiwicHJpbWFyeUF4aXMiLCJzZWNvbmRhcnlBeGlzIiwib2Zmc2V0IiwibGVmdCIsInRvcCIsImdyaWRYIiwiZ3JpZFkiLCJjdXJzb3IiLCJwb3NpdGlvbiIsImFsaWduIiwiY2hpbGRyZW4iLCJkYXR1bXMiLCJsZW5ndGgiLCJzZXJpZXMiLCJkYXRhIiwiZm9jdXMiLCJnZXRDZW50ZXJQb2ludE9mU2lkZSIsImdldENsb3Nlc3RQb2ludCIsIngiLCJ5IiwiYWxpZ25YIiwiYWxpZ25ZIiwidHJpYW5nbGVTdHlsZXMiLCJ0cmFuc2Zvcm0iLCJib3JkZXJMZWZ0IiwiYm9yZGVyUmlnaHQiLCJib3JkZXJUb3AiLCJib3JkZXJCb3R0b20iLCJvcGFjaXR5IiwidmlzaWJpbGl0eSIsImFjdGl2ZSIsInBvaW50ZXJFdmVudHMiLCJwYWRkaW5nIiwiYmFja2dyb3VuZCIsImNvbG9yIiwiYm9yZGVyUmFkaXVzIiwid2lkdGgiLCJoZWlnaHQiLCJkZWZhdWx0UHJvcHMiLCJsYWJlbCIsIm1hcmdpbkJvdHRvbSIsImZvcm1hdCIsInByaW1hcnkiLCJzdGFja2VkIiwicmV2ZXJzZSIsIm1hcCIsImQiLCJpIiwic3RhdHVzU3R5bGVzIiwiZmlsbCIsInNlcmllc0xhYmVsIiwidGV4dEFsaWduIiwiTWF0aCIsImZsb29yIiwic2Vjb25kYXJ5Iiwicm91bmQiLCJzZWxlY3RvcnMiLCJzdGF0ZSIsInF1YWRUcmVlIiwic3RhdGljcyIsImlzSFRNTCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBOzs7O0FBQ0E7O0FBQ0E7O0FBRUE7Ozs7QUFDQTs7Ozs7Ozs7Ozs7OztBQUZBOzs7QUFHQTs7QUFFQSxJQUFNQSxXQUFXLEVBQWpCOztJQUVNQyxPOzs7Ozs7Ozs7Ozs2QkFnRE07QUFBQSxtQkFhSixLQUFLQyxLQWJEO0FBQUEsVUFF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QkFBZXVELFVBQVV2RCxhQUFWLENBQXdCd0QsS0FBeEIsQ0FGQTtBQUdmcEQsYUFBT21ELFVBQVVuRCxLQUFWLENBQWdCb0QsS0FBaEIsQ0FIUTtBQUlmbkQsYUFBT2tELFVBQVVsRCxLQUFWLENBQWdCbUQsS0FBaEIsQ0FKUTtBQUtmMUQsZUFBUzBELE1BQU0xRCxPQUxBO0FBTWZRLGNBQVFrRCxNQUFNbEQsTUFOQztBQU9mTCxjQUFRc0QsVUFBVXRELE1BQVYsQ0FBaUJ1RCxLQUFqQixDQVBPO0FBUWZDLGdCQUFVRCxNQUFNQztBQVJELEtBQVY7QUFBQSxHQUFQO0FBVUQsQ0FuQlksRUFvQmI7QUFDRUMsV0FBUztBQUNQQyxZQUFRO0FBREQ7QUFEWCxDQXBCYSxFQXlCYi9ELE9BekJhLEMiLCJmaWxlIjoiVG9vbHRpcC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBQdXJlQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBDb25uZWN0IH0gZnJvbSAncmVhY3Qtc3RhdGUnXG5pbXBvcnQgeyBBbmltYXRlIH0gZnJvbSAncmVhY3QtbW92ZSdcbi8vXG5pbXBvcnQgVXRpbHMgZnJvbSAnLi4vdXRpbHMvVXRpbHMnXG5pbXBvcnQgU2VsZWN0b3JzIGZyb20gJy4uL3V0aWxzL1NlbGVjdG9ycydcbi8vXG5cbmNvbnN0IGZvbnRTaXplID0gMTJcblxuY2xhc3MgVG9vbHRpcCBleHRlbmRzIFB1cmVDb21wb25lbnQge1xuICBzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuICAgIHBvc2l0aW9uOiAnYXZlcmFnZScsXG4gICAgYWxpZ246ICd0b3AnLFxuICAgIGNoaWxkcmVuOiBwcm9wcyA9PiB7XG4gICAgICBjb25zdCB7IHNlcmllcywgZGF0dW1zLCBwcmltYXJ5QXhpcywgc2Vjb25kYXJ5QXhpcyB9ID0gcHJvcHNcbiAgICAgIHJldHVybiBzZXJpZXNcbiAgICAgICAgPyA8ZGl2PlxuICAgICAgICAgICAgPHN0cm9uZz57c2VyaWVzLmxhYmVsfTwvc3Ryb25nPjxiciAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA6IGRhdHVtcyAmJiBkYXR1bXMubGVuZ3RoXG4gICAgICAgICAgPyA8ZGl2PlxuICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogJzNweCcsXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxzdHJvbmc+e3ByaW1hcnlBeGlzLmZvcm1hdChkYXR1bXNbMF0ucHJpbWFyeSl9PC9zdHJvbmc+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8dGFibGU+XG4gICAgICAgICAgICAgICAgPHRib2R5PlxuICAgICAgICAgICAgICAgICAgeyhzZWNvbmRhcnlBeGlzLnN0YWNrZWRcbiAgICAgICAgICAgICAgICAgICAgPyBbLi4uZGF0dW1zXS5yZXZlcnNlKClcbiAgICAgICAgICAgICAgICAgICAgOiBkYXR1bXMpLm1hcCgoZCwgaSkgPT5cbiAgICAgICAgICAgICAgICAgICAgKDx0ciBrZXk9e2l9PlxuICAgICAgICAgICAgICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGNvbG9yOiBkLnN0YXR1c1N0eWxlcy5ob3ZlcmVkLmZpbGwgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICYjOTY3OTtcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHsnICd9e2Quc2VyaWVzTGFiZWx9OiAmbmJzcDtcbiAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgIDx0ZFxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dEFsaWduOiAncmlnaHQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICB7TWF0aC5mbG9vcihkLnNlY29uZGFyeSkgPCBkLnNlY29uZGFyeVxuICAgICAgICAgICAgICAgICAgICAgICAgICA/IHNlY29uZGFyeUF4aXMuZm9ybWF0KE1hdGgucm91bmQoZC5zZWNvbmRhcnkgKiAxMDApIC8gMTAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IHNlY29uZGFyeUF4aXMuZm9ybWF0KGQuc2Vjb25kYXJ5KX1cbiAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICA8L3RyPilcbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC90Ym9keT5cbiAgICAgICAgICAgICAgPC90YWJsZT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDogbnVsbFxuICAgIH0sXG4gIH1cbiAgcmVuZGVyICgpIHtcbiAgICBjb25zdCB7XG4gICAgICBob3ZlcmVkLFxuICAgICAgcHJpbWFyeUF4aXMsXG4gICAgICBzZWNvbmRhcnlBeGlzLFxuICAgICAgb2Zmc2V0OiB7IGxlZnQsIHRvcCB9LFxuICAgICAgZ3JpZFgsXG4gICAgICBncmlkWSxcbiAgICAgIGN1cnNvcixcbiAgICAgIC8vXG4gICAgICBwb3NpdGlvbixcbiAgICAgIGFsaWduLFxuICAgICAgY2hpbGRyZW4sXG4gICAgfSA9IHRoaXMucHJvcHNcblxuICAgIGlmICghcHJpbWFyeUF4aXMgfHwgIXNlY29uZGFyeUF4aXMgfHwgIWhvdmVyZWQgfHwgIWN1cnNvcikge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICBjb25zdCBkYXR1bXMgPSBob3ZlcmVkLmRhdHVtcyAmJiBob3ZlcmVkLmRhdHVtcy5sZW5ndGhcbiAgICAgID8gaG92ZXJlZC5kYXR1bXNcbiAgICAgIDogaG92ZXJlZC5zZXJpZXMgPyBob3ZlcmVkLnNlcmllcy5kYXRhIDogbnVsbFxuXG4gICAgLy8gVE9ETzogdG9vbHRpcCBvcmlnaW46IGhvdmVyZWQgb3IgY2hhcnQgb3IgY3VzdG9tLiBBbGxvd3MgdGhlIHVzZXIgdG8gcG9zaXRpb24gdGhlIHRvb2x0aXAgcmVsYXRpdmUgdG8gZGlmZmVyZW50IHBhcnRzIG9mIHRoZSBjaGFydFxuICAgIC8vIFRPRE86IHRvb2x0aXAgaGFyZGNvZGVkIG9mZnNldCBhbmQvb3IgZHluYW1pYyBvZmZzZXQgYmFzZWQgb24gdGFyZ2V0IGVsZW1lbnRcblxuICAgIGNvbnN0IGZvY3VzID0gZGF0dW1zXG4gICAgICA/IHR5cGVvZiBwb3NpdGlvbiA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICA/IHBvc2l0aW9uKGRhdHVtcywgY3Vyc29yKVxuICAgICAgICA6IHBvc2l0aW9uID09PSAnbGVmdCdcbiAgICAgICAgICA/IFV0aWxzLmdldENlbnRlclBvaW50T2ZTaWRlKCdsZWZ0JywgZGF0dW1zKVxuICAgICAgICAgIDogcG9zaXRpb24gPT09ICdyaWdodCdcbiAgICAgICAgICAgID8gVXRpbHMuZ2V0Q2VudGVyUG9pbnRPZlNpZGUoJ3JpZ2h0JywgZGF0dW1zKVxuICAgICAgICAgICAgOiBwb3NpdGlvbiA9PT0gJ3RvcCdcbiAgICAgICAgICAgICAgPyBVdGlscy5nZXRDZW50ZXJQb2ludE9mU2lkZSgndG9wJywgZGF0dW1zKVxuICAgICAgICAgICAgICA6IHBvc2l0aW9uID09PSAnYm90dG9tJ1xuICAgICAgICAgICAgICAgID8gVXRpbHMuZ2V0Q2VudGVyUG9pbnRPZlNpZGUoJ2JvdHRvbScsIGRhdHVtcylcbiAgICAgICAgICAgICAgICA6IHBvc2l0aW9uID09PSAnY2VudGVyJ1xuICAgICAgICAgICAgICAgICAgPyBVdGlscy5nZXRDZW50ZXJQb2ludE9mU2lkZSgnY2VudGVyJywgZGF0dW1zKVxuICAgICAgICAgICAgICAgICAgOiBwb3NpdGlvbiA9PT0gJ2N1cnNvcidcbiAgICAgICAgICAgICAgICAgICAgPyBjdXJzb3JcbiAgICAgICAgICAgICAgICAgICAgOiBVdGlscy5nZXRDbG9zZXN0UG9pbnQoY3Vyc29yLCBkYXR1bXMpLmZvY3VzIC8vIDogcXVhZFRyZWUuZmluZChjdXJzb3IueCwgY3Vyc29yLnkpXG4gICAgICA6IHtcbiAgICAgICAgeDogZ3JpZFgsXG4gICAgICAgIHk6IGdyaWRZLFxuICAgICAgfVxuXG4gICAgY29uc3QgeCA9IGdyaWRYICsgZm9jdXMueFxuICAgIGNvbnN0IHkgPSBncmlkWSArIGZvY3VzLnlcblxuICAgIGxldCBhbGlnblhcbiAgICBsZXQgYWxpZ25ZXG5cbiAgICBsZXQgdHJpYW5nbGVTdHlsZXMgPSB7fVxuXG4gICAgaWYgKGFsaWduID09PSAndG9wJykge1xuICAgICAgYWxpZ25YID0gJy01MCUnXG4gICAgICBhbGlnblkgPSAnLTEwMCUnXG4gICAgICB0cmlhbmdsZVN0eWxlcyA9IHtcbiAgICAgICAgdG9wOiAnMTAwJScsXG4gICAgICAgIGxlZnQ6ICc1MCUnLFxuICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoLTUwJSwgMCUpJyxcbiAgICAgICAgYm9yZGVyTGVmdDogJzVweCBzb2xpZCB0cmFuc3BhcmVudCcsXG4gICAgICAgIGJvcmRlclJpZ2h0OiAnNXB4IHNvbGlkIHRyYW5zcGFyZW50JyxcbiAgICAgICAgYm9yZGVyVG9wOiAnNXB4IHNvbGlkIHJnYmEoMzgsIDM4LCAzOCwgMC44KScsXG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChhbGlnbiA9PT0gJ2JvdHRvbScpIHtcbiAgICAgIGFsaWduWCA9ICctNTAlJ1xuICAgICAgYWxpZ25ZID0gJzAlJ1xuICAgICAgdHJpYW5nbGVTdHlsZXMgPSB7XG4gICAgICAgIHRvcDogJzAlJyxcbiAgICAgICAgbGVmdDogJzUwJScsXG4gICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgtNTAlLCAtMTAwJSknLFxuICAgICAgICBib3JkZXJMZWZ0OiAnNXB4IHNvbGlkIHRyYW5zcGFyZW50JyxcbiAgICAgICAgYm9yZGVyUmlnaHQ6ICc1cHggc29saWQgdHJhbnNwYXJlbnQnLFxuICAgICAgICBib3JkZXJCb3R0b206ICc1cHggc29saWQgcmdiYSgzOCwgMzgsIDM4LCAwLjgpJyxcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGFsaWduID09PSAnbGVmdCcpIHtcbiAgICAgIGFsaWduWCA9ICctMTAwJSdcbiAgICAgIGFsaWduWSA9ICctNTAlJ1xuICAgICAgdHJpYW5nbGVTdHlsZXMgPSB7XG4gICAgICAgIHRvcDogJzUwJScsXG4gICAgICAgIGxlZnQ6ICcxMDAlJyxcbiAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKDAlLCAtNTAlKScsXG4gICAgICAgIGJvcmRlclRvcDogJzVweCBzb2xpZCB0cmFuc3BhcmVudCcsXG4gICAgICAgIGJvcmRlckJvdHRvbTogJzVweCBzb2xpZCB0cmFuc3BhcmVudCcsXG4gICAgICAgIGJvcmRlckxlZnQ6ICc1cHggc29saWQgcmdiYSgzOCwgMzgsIDM4LCAwLjgpJyxcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGFsaWduID09PSAncmlnaHQnKSB7XG4gICAgICBhbGlnblggPSAnMCUnXG4gICAgICBhbGlnblkgPSAnLTUwJSdcbiAgICAgIHRyaWFuZ2xlU3R5bGVzID0ge1xuICAgICAgICB0b3A6ICc1MCUnLFxuICAgICAgICBsZWZ0OiAnMCUnLFxuICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoLTEwMCUsIC01MCUpJyxcbiAgICAgICAgYm9yZGVyVG9wOiAnNXB4IHNvbGlkIHRyYW5zcGFyZW50JyxcbiAgICAgICAgYm9yZGVyQm90dG9tOiAnNXB4IHNvbGlkIHRyYW5zcGFyZW50JyxcbiAgICAgICAgYm9yZGVyUmlnaHQ6ICc1cHggc29saWQgcmdiYSgzOCwgMzgsIDM4LCAwLjgpJyxcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGFsaWduID09PSAnY2VudGVyJykge1xuICAgICAgLy8gVE9ETzogQXV0b21hdGljIE1vZGVcbiAgICAgIGFsaWduWCA9ICctNTAlJ1xuICAgICAgYWxpZ25ZID0gJy01MCUnXG4gICAgICB0cmlhbmdsZVN0eWxlcyA9IHtcbiAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCB2aXNpYmlsaXR5ID0gaG92ZXJlZC5hY3RpdmUgPyAxIDogMFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxBbmltYXRlXG4gICAgICAgIGRhdGE9e3tcbiAgICAgICAgICB4LFxuICAgICAgICAgIHksXG4gICAgICAgICAgYWxpZ25YLFxuICAgICAgICAgIGFsaWduWSxcbiAgICAgICAgICB0cmlhbmdsZVN0eWxlcyxcbiAgICAgICAgICB2aXNpYmlsaXR5LFxuICAgICAgICB9fVxuICAgICAgICBkdXJhdGlvbj17NDAwfVxuICAgICAgPlxuICAgICAgICB7KHsgeCwgeSwgYWxpZ25YLCBhbGlnblksIHRyaWFuZ2xlU3R5bGVzLCB2aXNpYmlsaXR5IH0pID0+XG4gICAgICAgICAgKDxkaXZcbiAgICAgICAgICAgIGNsYXNzTmFtZT0ndG9vbHRpcC13cmFwJ1xuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgcG9pbnRlckV2ZW50czogJ25vbmUnLFxuICAgICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgICAgbGVmdDogYCR7bGVmdH1weGAsXG4gICAgICAgICAgICAgIHRvcDogYCR7dG9wfXB4YCxcbiAgICAgICAgICAgICAgb3BhY2l0eTogdmlzaWJpbGl0eSxcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZTNkKCR7eH1weCwgJHt5fXB4LCAwcHgpYCxcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGUzZCgke2FsaWduWH0sICR7YWxpZ25ZfSwgMClgLFxuICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzdweCcsXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBmb250U2l6ZSArICdweCcsXG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICc1cHgnLFxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAncmdiYSgzOCwgMzgsIDM4LCAwLjgpJyxcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzNweCcsXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7Y2hpbGRyZW4oe1xuICAgICAgICAgICAgICAgICAgICAuLi5ob3ZlcmVkLFxuICAgICAgICAgICAgICAgICAgICBwcmltYXJ5QXhpcyxcbiAgICAgICAgICAgICAgICAgICAgc2Vjb25kYXJ5QXhpcyxcbiAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAnMCcsXG4gICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAnMCcsXG4gICAgICAgICAgICAgICAgICAgICAgLi4udHJpYW5nbGVTdHlsZXMsXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2Pil9XG4gICAgICA8L0FuaW1hdGU+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENvbm5lY3QoXG4gICgpID0+IHtcbiAgICBjb25zdCBzZWxlY3RvcnMgPSB7XG4gICAgICBwcmltYXJ5QXhpczogU2VsZWN0b3JzLnByaW1hcnlBeGlzKCksXG4gICAgICBzZWNvbmRhcnlBeGlzOiBTZWxlY3RvcnMuc2Vjb25kYXJ5QXhpcygpLFxuICAgICAgZ3JpZFg6IFNlbGVjdG9ycy5ncmlkWCgpLFxuICAgICAgZ3JpZFk6IFNlbGVjdG9ycy5ncmlkWSgpLFxuICAgICAgb2Zmc2V0OiBTZWxlY3RvcnMub2Zmc2V0KCksXG4gICAgfVxuICAgIHJldHVybiBzdGF0ZSA9PiAoe1xuICAgICAgcHJpbWFyeUF4aXM6IHNlbGVjdG9ycy5wcmltYXJ5QXhpcyhzdGF0ZSksXG4gICAgICBzZWNvbmRhcnlBeGlzOiBzZWxlY3RvcnMuc2Vjb25kYXJ5QXhpcyhzdGF0ZSksXG4gICAgICBncmlkWDogc2VsZWN0b3JzLmdyaWRYKHN0YXRlKSxcbiAgICAgIGdyaWRZOiBzZWxlY3RvcnMuZ3JpZFkoc3RhdGUpLFxuICAgICAgaG92ZXJlZDogc3RhdGUuaG92ZXJlZCxcbiAgICAgIGN1cnNvcjogc3RhdGUuY3Vyc29yLFxuICAgICAgb2Zmc2V0OiBzZWxlY3RvcnMub2Zmc2V0KHN0YXRlKSxcbiAgICAgIHF1YWRUcmVlOiBzdGF0ZS5xdWFkVHJlZSxcbiAgICB9KVxuICB9LFxuICB7XG4gICAgc3RhdGljczoge1xuICAgICAgaXNIVE1MOiB0cnVlLFxuICAgIH0sXG4gIH1cbikoVG9vbHRpcClcbiJdfQ==